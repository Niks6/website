import{g as $,u as h}from"./updateCartValue-DpKbgD6o.js";import{s as v}from"./showToast-CumAmCrs.js";const g=(i,u,s,l)=>{const e=$(),r=document.querySelector(`#card${u}`),a=Number.parseInt(r.querySelector(".qty-value").innerText,10),o=l*a,c=String(u),p=e.find(n=>String(n.productId)===c);p?(p.quantity=a,p.price=o):e.push({productId:c,quantity:a,price:o}),localStorage.setItem("cartProductLS",JSON.stringify(e)),h(e),v("add",String(u))},C=(i,u,s)=>{const l=document.querySelector(`#card${u}`);if(!l)return;const e=l.querySelector(".qty-value");if(!e)return;let r=Number.parseInt(e.innerText)||1;return i.target.classList.contains("incre")&&r<s&&(r+=1),i.target.classList.contains("decre")&&r>1&&(r-=1),e.innerText=r,r},f=document.querySelector("#product-card-template"),m=document.querySelector(".pro-cards"),b=(i,u)=>{i&&(m.innerHTML="",u==0?i.slice(0,6).forEach(s=>{const{_id:l,productId:e,company:r,name:a,stock:o,price:c,wholesalePrice:p,mrp:n,description:y,imageUrl:S,imagePublicId:x,createdAt:k,updatedAt:I}=s,t=document.importNode(f.content,!0);t.querySelector("#cardID").setAttribute("id",`card${e}`),t.querySelector(".product-title").textContent=a,t.querySelector(".product-description").textContent=y,t.querySelector(".product-category").textContent=r,t.querySelector(".product-image img").src=S,t.querySelector(".info-value").textContent=o?"In Stock":"Out of Stock",t.querySelector(".current-price").textContent=`₹${c}`,t.querySelector(".original-price").textContent=`₹${n}`;const q=Math.round((n-c)/n*100,1);t.querySelector(".discount").textContent=`${q}% OFF`,t.querySelector(".quantity-controls").addEventListener("click",d=>{C(d,e,o)}),t.querySelector(".action-buttons").addEventListener("click",d=>{g(d,e,o,c)}),m.append(t)}):i.forEach(s=>{const{_id:l,productId:e,company:r,name:a,stock:o,price:c,wholesalePrice:p,mrp:n,description:y,imageUrl:S,imagePublicId:x,createdAt:k,updatedAt:I}=s,t=document.importNode(f.content,!0);t.querySelector("#cardID").setAttribute("id",`card${e}`),t.querySelector(".product-title").textContent=a,t.querySelector(".product-description").textContent=y,t.querySelector(".product-category").textContent=r,t.querySelector(".product-image img").src=S,t.querySelector(".info-value").textContent=o?"In Stock":"Out of Stock",t.querySelector(".current-price").textContent=`₹${c}`,t.querySelector(".original-price").textContent=`₹${n}`;const q=Math.round((n-c)/n*100,1);t.querySelector(".discount").textContent=`${q}% OFF`,t.querySelector(".quantity-controls").addEventListener("click",d=>{C(d,e,o)}),t.querySelector(".action-buttons").addEventListener("click",d=>{g(d,e,o,c)}),m.append(t)}))};export{b as s};
